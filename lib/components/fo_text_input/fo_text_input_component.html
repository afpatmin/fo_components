<fo-label [value]="label"
          [class.noLeftBorder]="leftBorder == false"
          [class.noRightBorder]="rightBorder == false"
          [class.centerValue]="centerValue">
  <div id="flexContainer"
       [class.error]="control?.valid == false && control?.pristine != true"
       [class.disabled]="disabled == true">
    <fo-icon *ngIf="leadingIcon != null"
             class="leadingIcon"
             [icon]="leadingIcon"
             [material]="materialIcons"></fo-icon>
    <span *ngIf="leadingText != null"
          class="leadingText">
      {{leadingText}}
    </span>
    <input type="{{type}}"
           [attr.autocomplete]="autocomplete"
           [attr.autoFocus]="autoFocus.toString()"
           [disabled]="disabled == true"
           [placeholder]="placeholder"
           [ngModel]="value"
           (ngModelChange)="onValueChange($event)"
           (change)="changeController.add($event)"
           (keyup)="onKeyUp($event)"
           (focus)="onFocus($event)"
           (blur)="onBlur($event)">
    <fo-icon *ngIf="clearIcon == true"
             class="clear"
             icon="close"
             [material]="materialIcons"
             (click)="onClear($event)"></fo-icon>
    <fo-button id="actionButton"
               *ngIf="actionButtonLabel != null || actionButtonIcon != null"
               [label]="actionButtonLabel"
               [icon]="actionButtonIcon"
               [materialIcon]="materialIcons"
               [disabled]="disabled || control?.valid == false || value.isEmpty"
               (trigger)="actionButtonController.add($event)"></fo-button>
  </div>
  <fo-error-output *ngIf="(hasFocus == true || hideErrorsOnBlur == false) && errorMessage != null && control?.pristine != true && dropdownVisible == false"
                   [message]="errorMessage!">
  </fo-error-output>
  <fo-dropdown-list *ngIf="options != null"
                    [options]="options"
                    [showCategoryLabels]="showDropdownCategoryLabels"
                    [offsetTop]="dropdownTopOffset"
                    [filter]="filterValue"
                    [maxHeight]="dropdownMaxHeight"
                    [constrainToViewPort]="constrainToViewPort"
                    [materialIcons]="materialIcons"
                    [width]="dropdownWidth"
                    (select)="onFilterSelect($event)"
                    [(visible)]="dropdownVisible">
  </fo-dropdown-list>
</fo-label>